<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive 3x3 Grid</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .grid-container {
            max-width: 500px;
            margin: auto;
            /* background-color: wheat; */
        }

        .grid-item {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            height: 150px;
            color: #804200;
            background-color: #ffe8d6;
            border: 3px solid #42290e;
            transition: background-color 0.3s, color 0.3s;
        }

        .grid-item:hover {
            background-color: #ffdab9;
            color: #ff6347;
        }

        .row-sty{
            height: 100%;
            width: 100%;
            background-color: rgb(83, 30, 30);
        }

        .result {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: rgba(222, 184, 135, 0.85);
           
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
           padding-top: 20%;
            text-align: center;

        }


        .instruction {
            position: absolute;
            width: 100%;
            height: 100%;
            
            background-color: rgb(97, 60, 11);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #ffe4c4;
            
            z-index: 1;


        }
    </style>
</head>

<body class="bg-dark">

    <div class="container grid-container mt-5" style="min-height: 80vh;">
        <h1 id="player" class="text-light text-center">Player ONE</h1>
        <div class="row row-cols-3 g-0 row-sty" style="position: relative;">
            <div class="instruction">
                <h1 class="text-info border">TIC TAC TOE</h1>
                <p class="fs-5">It's a two-player game!</p>
                <p class="fs-2">Player One: X</p>
                <p class="fs-2">Player Two: O</p>
                <button onclick="started()" class="btn btn-light text-danger p-3 fs-2">START</button>
            </div>
            <!-- Row 1 -->
            <button type="submit" id="one" onclick="dind(this)" class="col grid-item buton-style"></button>

            <button type="button" id="two" onclick="dind(this)" class="col  grid-item buton-style"></button>

            <button type="button" id="three" onclick="dind(this)" class="col grid-item buton-style"></button>
            <!-- Row 2 -->
            <button type="button" id="four" onclick="dind(this)" class="col grid-item buton-style"></button>

            <button type="button" id="five" onclick="dind(this)" class="col grid-item buton-style"></button>

            <button type="button" id="six" onclick="dind(this)" class="col grid-item buton-style"></button>

            <!-- Row 3 -->
            <button type="button" id="seven" onclick="dind(this)" class="col grid-item buton-style"></button>

            <button type="button" id="eight" onclick="dind(this)" class="col grid-item buton-style"></button>

            <button type="button" id="nine" onclick="dind(this)" class="col grid-item buton-style"></button>

            <div class="result" >
                <div class="over fw-dark" style="font-size: 40px;color: brown;font-weight: bold;"></div>
                <button type="button" class="btn btn-light p-3 mt-4 fs-4 text-danger" onclick="tryagain()">Try
                    Again</button>
            </div>
        </div>
        <div class="d-flex justify-content-center mt-2">
            <button type="button" class="btn btn-danger " onclick="tryagain()">Reset game</button>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>



        <script>

            // window.onload = function() {
            //     alert("Welcome to the page!");
            // };
            
            const started=()=>{
                document.querySelector('.instruction').style.display = 'none';   
            }
            
                ary = []
                function labelButtons() {
            
                    const buttons = document.querySelectorAll('.col');
                    let index = 0;
                    for (let i = 0; i < 3; i++) {      // Loop for rows
                        ary[i] = []
                        for (let j = 0; j < 3; j++) {
                            ary[i][j] = buttons[index]
                            // Loop for columns
                            // buttons[index].textContent = `(${a[i]},${a[j]})`; // Label the button
                            index++;
                        }
                    }
                }
            
            
            
                labelButtons();
            
                cout = 1
                num = 0
                console.log(num);
            
                dind = (button) => {
                    // cout++
                    console.log('num' + num);
            
                    // if (num > 8) {
                    //     console.log(num);
            
                    //     tiePlay()
                    //num==8 || } 
                    console.log(cout);
            
                    if (!(cout < 9)) {
                        tiePlay()
                    }
                    if (button.innerText != " ") {
            
            
                        if (cout == 1 || cout % 2 !== 0) {
            
                            if (button.innerText == '') {
                                num++;
                                console.log('x  ' + num)
                                button.innerHTML = "X"
                                plays = 'player one'
                                player.innerHTML = 'Player TWO'
                                // console.log(button.innerText);
                                for (let i = 0; i < ary.length; i++) {
                                    for (let j = 0; j < ary[i].length; j++) {
                                        if (ary[i][j] === button) {
                                            ary[i][j] = button.innerText;
                                            console.log(`Updated ary[${i}][${j}]=$ary[i][j]`);
                                            console.log(ary);
                                            cout++
                                        }
                                    }
                                }
                                checkWin(plays)
            
                            }
                        }
            
                        else {
                            if (button.innerText == '') {
                                num++;
                                console.log('0  ' + num);
            
                                button.innerHTML = "O"
                                plays = 'player two'
                                player.innerHTML = 'Player ONE'
            
                                for (let i = 0; i < ary.length; i++) {
                                    for (let j = 0; j < ary[i].length; j++) {
                                        if (ary[i][j] === button) {
                                            ary[i][j] = button.innerText;
                                            console.log(`Updated ary[${i}][${j}]=$ary[i][j]`);
                                            console.log(ary);
                                            cout++
                                        }
                                    }
                                }
                                checkWin(plays)
                            }
                        }
            
            
            
                    }
            
                }
            
            
            
            
                tryagain = () => {
                    const buttons = document.querySelectorAll('.col');
                    buttons.forEach(button => button.innerHTML = ""); // Clear button content
                    player.innerHTML = 'Player ONE'; // Reset player turn
                    cout = 1;
                    num = 0;
                    ary = [];
                    document.querySelector('.result').style.display = 'none';
                    labelButtons();
                }
            
            
                tiePlay = () => {
                    // over.innerHTML = 'game over'
            
                    // tryagin.innerHTML = 'try again'
                    document.querySelector('.result').style.display = 'block'; // Show result
                    document.querySelector('.over').innerText =`game over`
                    
                }
            
            
            
            
            
                checkWin = (plays) => {
                    for (i = 0; i < ary.length; i++) {
                        for (j = 0; j < ary.length; j++) {
                            if ((ary[i][0] === ary[i][1] && ary[i][0] === ary[i][2])
                                || (ary[0][j] === ary[1][j] && ary[0][j] === ary[2][j])
                                || (ary[0][0] === ary[1][1] && ary[1][1] === ary[2][2]
                                    || ary[0][2] === ary[1][1] && ary[1][1] === ary[2][0]
                                )) {
                                console.log(`winner : ${plays}`);
                                
                                // over.innerHTML = `winner is  ${plays}`
                                displayWinner(plays);
                                return;
                            }
                        }
                    }
                }
            
                displayWinner = (plays) => {
                    
                    document.querySelector('.result').style.display = 'block'; // Show result
                    document.querySelector('.over').innerText = `Winner : ${plays}`;
                    
                }
            
            
                // checkDrew = () => {
                //     for (i = 0; i < ary.length; i++) {
                //         for (j = 0; j < ary[i].length; j++) {
                //             if (ary[i][j] != 'X') {
                //                 console.log("It's a draw!");
                //                 over.innerHTML = "It's a draw!";
                //             }
            
                //         }
            
                //     }
            
                // }
            
                // }|| (ary[0][0] === ary[1][1] && ary[1][1] === ary[2][2])
                // }|| (ary[0][1] === ary[1][1] && ary[1][1] === ary[2][0])
            
            
                console.log(ary);
                // Click handler function
                function dind(button) {
                    // alert(`B utton ${button.textContent} clicked!`);
                }
            </script>


</body>

</html>